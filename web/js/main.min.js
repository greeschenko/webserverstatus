"use strict";var LoginPage=new Hata("#res","login/form",{},function(){$("#loginbutton").bind("click",function(){MainPage.render()})}),MainPage=new Hata("#res","main/layout",{},function(){var t=(new Hata(".mainpage_sites","main/siteitem",{},function(){var t=this.el;t.find(".siteitem").each(function(t){$(this).data("domen");new Hata($(this).find(".siteitem_stats"),"main/item",{},function(){var t=this;t.el.find(".statitem_graph").each(function(e){var i=$(this),a=t.data[e].Graph;i.html("");for(var n in a){var s=a[n];s>42&&(s=42),i.append('<div class="statitem_graph_item" style="height: '+s+'px"></div>')}})},"/api/sites-stats?index="+t,3e3).render(),new Hata($(this).find(".mainpage_header_status"),"main/site_status",{},(void 0),"/api/sites-status?index="+t,3e3).render()})},"/api/sites").render(),new Hata(".mainpage_header_status","main/status",{},(void 0),"/api/status","3000",function(){console.log("testfail"),t.data={Status:"FAIL"}}).render()),e=new Hata(".mainpage_list","main/item",{},function(){e.el.find(".statitem_graph").each(function(t){var i=$(this),a=e.data[t].Graph;i.html("");for(var n in a){var s=a[n];s>42&&(s=42),i.append('<div class="statitem_graph_item" style="height: '+s+'px"></div>')}})},"/api/stat","3000").render()},"/api/main").render();$(".mainhelp").bind("click",function(){var t=$(window).width(),e=$(window).height();$("#helpwrap").attr("width",t),$("#helpwrap").attr("height",e);var i=document.getElementById("helpwrap"),a=i.getContext("2d");a.font="20px Arial",a.fillStyle="tomato",a.fillText("site or server online status",t/2,20),a.fillText("stat name",20,e-20),a.fillText("stat graph",t/4,e-40),a.fillText("stat status text",t/2,e-60),a.fillText("stat status indicator",3*t/4,e-80);var n=$(".mainpage_list").children().eq(0),s=n.children().eq(0).position(),o=n.children().eq(1).position(),r=n.children().eq(2).position(),l=n.children().eq(3).position(),p=$("#mainserverstatus").position(),d=$(".mainpage_sites").children().eq(0).find(".mainpage_header_status").position();a.moveTo(p.left+20,p.top+20),a.lineTo(t/2-5,15),a.moveTo(d.left+20,d.top+20),a.lineTo(t/2-5,15),a.moveTo(s.left+20,s.top+20),a.lineTo(20,e-20-15),a.moveTo(o.left+20,o.top+20),a.lineTo(t/4,e-40-15),a.moveTo(r.left+20,r.top+20),a.lineTo(t/2,e-60-15),a.moveTo(l.left+20,l.top+20),a.lineTo(3*t/4,e-80-15),a.strokeStyle="tomato",a.stroke(),$("#helpwrap").toggle()});